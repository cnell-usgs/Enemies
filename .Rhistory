divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(ymin=plot.guild3$mean_birds_div-plot.guild3$se_birds_div,ymax=plot.guild3$mean_birds_div+plot.guild3$se_birds_div,width=.2,position="identity")
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(ymin=plot.guild3$mean_birds_div-plot.guild3$se_birds_div,ymax=plot.guild3$mean_birds_div+plot.guild3$se_birds_div,width=.2,position=dodge)
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(ymin=plot.guild3$mean_birds_div-plot.guild3$se_birds_div,ymax=plot.guild3$mean_birds_div+plot.guild3$se_birds_div,width=.2,position=position_dodge())
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(ymin=plot.guild3$mean_birds_div-plot.guild3$se_birds_div,ymax=plot.guild3$mean_birds_div+plot.guild3$se_birds_div,width=.2,position=position_dodge(width=1))
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(aes(ymin=mean_birds_div-se_birds_div,ymax=mean_birds_div+se_birds_div,width=.2,position=position_dodge(.9))
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(aes(ymin=mean_birds_div-se_birds_div,ymax=mean_birds_div+se_birds_div,width=.2,position=position_dodge(.9)))
divguild.plot
divguild.plot<-ggplot(plot.guild3,aes(x=reorder(feeding.guild,mean_birds_div),y=mean_birds_div,fill=DIVERSITY))+
geom_bar(stat="identity",position="dodge")+theme_minimal()+scale_fill_manual(values=wes_palette("Darjeeling"))+
geom_errorbar(aes(ymin=mean_birds_div-se_birds_div,ymax=mean_birds_div+se_birds_div),width=.2,position=position_dodge(.9))
divguild.plot
abun_by_plot<-ggplot(bird.plot,aes(x=reorder(PLOT,mean_birds_visit),y=mean_birds_visit,fill=DIVERSITY))+
geom_bar(stat="identity")+
geom_errorbar(aes(ymin=mean_birds_visit-se_birds_visit,ymax=mean_birds_visit+se_birds_visit))+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
View(bird.visit)
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,fill=DIVERSITY))+
geom_point(size=3)+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,color=DIVERSITY))+
geom_point(size=3,shape=1)+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,color=DIVERSITY))+
geom_point(size=4,shape=1)+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,color=DIVERSITY))+
geom_point(size=4,shape=16)+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,color=DIVERSITY))+
geom_point(size=2.5,shape=1)+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
wes_palette("Rushmore")
?wes_palette("Rushmore")
View(bird.plot)
hist.div<-ggplot(bird.visit,aes(x=total_abun))+geom_histogram(binwidth=.5)
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun))+geom_histogram(binwidth=1)
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,group=DIVERSITY))+geom_denisty()+
theme_minimal()+
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,group=DIVERSITY))+geom_density()+
theme_minimal()
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY))+geom_density()+
theme_minimal()+labs(y="Density",x="Bird Abundance")
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density()+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density(alpha=.5)+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))
hist.div
##histogram
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density(alpha=.5)+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("firebrick2","darkgoldenrod1")))
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density(alpha=.5)+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("firebrick2","darkgoldenrod1"))
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density(alpha=.5)+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("firebrick4","darkgoldenrod1"))
hist.div
hist.div<-ggplot(bird.visit,aes(x=total_abun,fill=DIVERSITY),alpha=.6)+geom_density(alpha=.7)+
theme_minimal()+labs(y="Density",x="Bird Abundance")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("firebrick4","darkgoldenrod1"))
hist.div
abun.by.div<-aov(birds_visit~DIVERSITY+Error(PLOT),data=bird.visit)
resids(abun.by.div)
resid(abun.by.div)
plot(density(resid(abun.by.div)))
abun.by.div<-aov(lm(birds_visit~DIVERSITY+Error(PLOT),data=bird.visit))
birds_visit$M1.Fit=fitted(abun.by.div)
bird.visit$M1.Fit=fitted(abun.by.div)
bird.visit$M1.Resid=resid(abun.by.div)
ggplot(bird.visit,aes(M1.fit,M1.Resid,color=DIVERSITY))+geom_point()
ggplot(bird.visit,aes(M1.Fit,M1.Resid,color=DIVERSITY))+geom_point()
bird.visit$M1.Fit=fitted(abun.by.div)
bird.visit$M1.Resid=resid(abun.by.div)
ggplot(bird.visit,aes(M1.Fit,M1.Resid,color=DIVERSITY))+geom_point()
qqnorm(bird.visit$birds_VISIT)
qqnorm(bird.visit$birds_visit)
qqline(bird.visit$birds_visit)
shapiro.test(bird.visit$birds_visit)
bird.visit$M1.Resid=residuals(abun.by.div)
bird.visit$M1.pred=pred(abun.by.div)
bird.visit$M1.pred=predict(abun.by.div)
plot(density(resid(abun.by.div)))
plot(density(residuals(abun.by.div)))
library(car)
plot(density(residuals(abun.by.div)))
residuals(abun.by.div)
plot.guild2<-birds.melt%>%
group_by(DIVERSITY,PLOT,VISIT,feeding.guild)%>%
summarize(total_birds_visit = sum(value))
rtr<-lm(total_birds_visit~DIVERSITY+PLOT,data=plot.guild2)
summary(aov(rtr))
View(plot.guild2)
rtr<-lm(total_birds_visit~DIVERSITY+feeding.guild+PLOT,data=plot.guild2)
summary(aov(rtr))
rtr<-lm(total_birds_visit~DIVERSITY*feeding.guild+PLOT,data=plot.guild2)
summary(aov(rtr))
library(vegan)
library(dplyr)
birds<-read.csv("enemy_bird_visit.csv")
sp.list<-read.csv("enemy_bird_list.csv")
getwd()
source("/Users/colleennell/Documents/R/functions/rarefaction_f.txt")
source("/Users/colleennell/Documents/R/functions/rarefaction_f.r")
drops<-c("Grand.Total","X.blank.")##clean up df
birds=birds[,!(names(birds) %in% drops)]
birds[is.na(birds)]<-0
cols<-names(birds)
drops<-c("DIVERSITY","PLOT","VISIT")
sps<-cols[-c(1:3)]##this is a list of the names of the birds only
birds$VISIT<-as.character(birds$VISIT)
birds$total_abun<-rowSums(birds[,sps])
bird.sp<-birds[,sps]#matrix plot x sp
rarefaction(bird.sp,subsample=5,plot=TRUE,error=FALSE,legend=TRUE,symbol=birds$DIVERSITY)
View(bird.sp)
bird.rare<-rarefaction(bird.sp,subsample=5,plot=TRUE,error=FALSE,legend=TRUE,symbol=birds$DIVERSITY)
bird.rare$richness
rarefaction(bird.sp,subsample=5,plot=TRUE,error=FALSE,legend=TRUE)
warnings()
birds$div<-diversity(bird.sp)
View(birds)
View(birdplot)
birds.plot<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(mean))
warnings()
View(birds.plot)
birds.plot.mean<-birds%>%
group_by(DIVERSITY,PLOT)%>%
summarize(n_visit = length(VISIT),plot_abun = sum(total_abun), mean_plot_abun = mean(total_abun))
View(birds.plot.mean)
birds.plot<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum))%>%
select(-VISIT)
birds.plot<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum))%>%
select(-'VISIT')##total species abundance per visit
birds.plot.mean<-birds%>%
group_by(DIVERSITY,PLOT)%>%
summarize(n_visit = length(VISIT),plot_abun = sum(total_abun), mean_plot_abun = mean(total_abun), se_plot_abun = std(total_abun))
View(birds.plot.mean)
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum))
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
select(-VISIT)%>%
summarize_each(funs(sum))
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)
summarize_each(funs(sum))#
??summarise_each
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)
summarize_each(funs(sum),sps)
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)
summarize_each(funs(sum),birds[,sps])
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)
summarize_each(.,funs(sum),birds[,sps])
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum))
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum),sps)
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum),birds[,sps])
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum),bird.sp)
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
select(-VISIT)%>%
summarize_each(funs(sum))
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarize_each(funs(sum))
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarise_each(funs(sum))
birds$VISIT<-as.numeric(birds$VISIT)
birds.sum<-birds%>% #plot-level data
group_by(DIVERSITY,PLOT)%>%
summarise_each(funs(sum))##total species abundance per plot
birds.plot.mean<-birds%>%
group_by(DIVERSITY,PLOT)%>%
summarize(n_visit = length(VISIT),plot_abun = sum(total_abun), mean_plot_abun = mean(total_abun), se_plot_abun = std(total_abun))
bird.plot<-left_join(birds.plot.mean,birds.sum,by="PLOT")
View(bird.plot)
bird.plot<-left_join(birds.plot.mean,birds.sum[,c("total_abun","div","PLOT")],by="PLOT")
View(bird.plot)
??rename
birds.mean<-birds%>%
group_by(DIVERSITY,PLOT)%>%
summarise_each(funs(mean)) ##means per visit
birds.plot<-left_join(birds.plot.mean,birds.sum[,c("total_abun","div","PLOT")],by="PLOT")%>%
rename(div = sum_div)
birds.plot<-left_join(birds.plot.mean,birds.sum[,c("total_abun","div","PLOT")],by="PLOT")
View(bird.plot)
View(birds.plot)
View(birds.mean)
birds.mean[,sps]
birds.mean.mat<-birds.mean[,sps]
View(birds.mean.mat)
birds.mean$div.mean<-diversity(birds.mean.mat)
View(birds.sum)
lm(div~div.mean,data=birds.mean)
trp<-lm(div~div.mean,data=birds.mean)
aov(trp)
summary(aov(trp))
plot(trp)
lm1<-ggplot(birds.mean,aes(x=div.mean,y=div))+geom_point(size=2)+geom_smooth(method="lm",se=F)
lm1
birds.plot.mean<-birds%>%
group_by(DIVERSITY,PLOT)%>%
summarize(n_visit = length(VISIT),plot_abun = sum(total_abun),
mean_plot_abun = mean(total_abun), se_plot_abun = std(total_abun),
mean_plot_div = mean(div), se_plot_div = std(div))
birds.plot<-left_join(birds.plot.mean,birds.sum[,c("total_abun","PLOT")],by="PLOT")
View(birds.plot)
View(birds.plot.mean)
birds.sum.mat<-birds.sum[,sps]
birds.plot$div.sum<-diversity(birds.sum.mat)
birds.sum$div.sum<-diversity(birds.sum.mat)#diveristy of sum species abundances per plot
birds.sum
View(birds.sum)
birds.plot<-left_join(birds.plot.mean,birds.sum[,c("total_abun","PLOT","div.sum")],by="PLOT")
View(birds.plot)
birds.plot.2<-left_join(birds.plot,birds.mean[,c("PLOT","div.mean")],by="PLOT")
View(birds.plot.2)
trp<-lm(mean.plot.div~div.mean,data=birds.plot.2)
trp<-lm(mean_plot_div~div.mean,data=birds.plot.2)
summary(aov(trp))
plot(trp)
lm1<-ggplot(birds.mean,aes(x=div.mean,y=div))+geom_point(size=2)+geom_smooth(method="lm",se=F)
lm1
lm1<-ggplot(birds.plot.2,aes(x=div.mean,y=mean_plot_div))+geom_point(size=2)+geom_smooth(method="lm",se=F)
lm1
View(birds.plot.2)
divbydiv<-aov(lm(div~DIVERSITY+PLOT,data=birds))
summary(divbydiv)
divbydiv<-aov(lm(div~DIVERSITY*PLOT,data=birds))
summary(divbydiv)
divbydiv<-aov(lm(div~DIVERSITY*PLOT+VISIT,data=birds))
summary(divbydiv)
divbydiv<-aov(lm(div~DIVERSITY*PLOT+Error(VISIT),data=birds))
divbydiv<-aov(div~DIVERSITY*PLOT+Error(VISIT),data=birds)
summary(divbydiv)
divbydiv<-aov(div~DIVERSITY*PLOT+Error(PLOT/VISIT),data=birds)
summary(divbydiv)
divbydiv<-aov(div~DIVERSITY*PLOT+VISIT,data=birds)
summary(divbydiv)
divbydiv<-aov(div~DIVERSITY*PLOT*VISIT,data=birds)
summary(divbydiv)
divbydiv<-aov(div~DIVERSITY*PLOT+VISIT,data=birds)
summary(divbydiv)
abunbydiv<-aov(div~DIVERSITY*PLOT+VISIT,data=birds)
abunbydiv<-aov(total_abun~DIVERSITY*PLOT+VISIT,data=birds)
summary(abunbydiv)
abunbydiv<-aov(total_abun~DIVERSITY*PLOT+PLOT/VISIT,data=birds)
summary(abunbydiv)
View(bird.visit)
abun_by_vis<-abun_by_plot+geom_point(bird.visit,aes(x=PLOT,y=total_abun,color=DIVERSITY),size=2)
abun_by_plot<-ggplot(bird.plot,aes(x=reorder(PLOT,mean_birds_visit),y=mean_birds_visit,fill=DIVERSITY))+
geom_point(size=3,shape=1,color=DIVERSITY)+
geom_errorbar(aes(ymin=mean_birds_visit-se_birds_visit,ymax=mean_birds_visit+se_birds_visit))+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds/Visit")
abun_by_plot<-ggplot(bird.plot,aes(x=reorder(PLOT,mean_birds_visit),y=mean_birds_visit,fill=DIVERSITY))+
geom_point(size=3,shape=1,color='DIVERSITY')+
geom_errorbar(aes(ymin=mean_birds_visit-se_birds_visit,ymax=mean_birds_visit+se_birds_visit))+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds/Visit")
abun_by_plot
divbydiv<-aov(div.mean~DIVERSITY*PLOT+VISIT,data=birds)
divbydiv<-aov(div.mean~DIVERSITY*PLOT,data=birds.plot.2)
summary(divbydiv)
divbydiv<-aov(mean_plot_div~DIVERSITY*PLOT,data=birds.plot.2)
summary(divbydiv)
specnumber(birds.sp)
specnumber(bird.sp)
birds$richness<-specnumber(bird.sp)
divbydiv<-aov(richness~DIVERSITY*PLOT+VISIT,data=birds)
richbydiv<-aov(richness~DIVERSITY*PLOT+VISIT,data=birds)
summary(richbydiv)
birds$rich.rar<-rarefy(bird.sp,min(rowSums(bird.sp)))
birds$rich.rar<-rarefy(bird.sp,max(rowSums(bird.sp)))
birds.sum$rich.rar<-rarefy(birds.sum.mat,max(rowSums(birds.sum.mat)))
birds.sum$rich.rar<-rarefy(birds.sum.mat,min(rowSums(birds.sum.mat)))
View(birds.min)
View(birds.sum)
birds.sum$richness<-specnumber(birds.sum.mat)
birds.sum$rartext<-rarefy(birds.sum.mat,5)
rad<-radfit(bird.sp)
rad
bird.poly.mat<-bird.poly[,sps]
bird.poly<-birds%>%
filter(DIVERSITY == 'P')
bird.poly.mat<-bird.poly[,sps]
sac.poly<-specaccum(bird.poly.at)
sac.poly<-specaccum(bird.poly.mat)
plot(sac.poly,ci.type="polygon")
bird.mono<-birds%>%
filter(DIVERSITY == 'M')
bird.mono.mat<-bird.mono[,sps]
sac.mono<-specaccum(bird.mono.mat)
plot(sac.mono,ci.type="polygon")
plot(sac.mono,ci.type="polygon",ci.color="yellow")
plot(sac.mono,ci.type="polygon",ci.col="yellow")
plot(sac.poly,ci.type="polygon",ci.col="blue")
beta.poly<-vegdist(bird.poly.mat,binary=FALSO)
beta.poly<-vegdist(bird.poly.mat,binary=FALSE)
mean(beta.poly)
betadiver(help=TRUE)
??vegdist
z<-betadiver(bird.poly.mat,"z")
quantile(z)
poly.spec<-specpool(bird.poly.mat)
poly.spc
poly.spec
mono.spec<-specpool(bird.mono.mat)
mono.spec
birds$sppool<-estimateR(bird.sp)
sppool<-estimateR(bird.sp[1,])
sppool
veiledspec(birds.sum.mat)
View(birds.sum.mat)
str(birds.sum.mat)
veiledspec(prestondistr(birds.sum.mat))
veiledspec(prestondistr(birds.sum.mat[2,]))
poly.spec#extrapolated richness values for all polysculture
mono.spec
abun_by_plot<-ggplot(bird.visit,aes(x=reorder(PLOT,total_abun),y=total_abun,color=DIVERSITY))+
geom_point(size=2.5,shape=1)+
scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=wes_palette("Darjeeling"))+
theme_minimal()+
theme(legend.position="none")+
labs(x="Plot",y="Birds Observed/Visit")
abun_by_plot
final_abun<-abun_by_plot+geom_point(bird.plot,aes(x=reorder(PLOT,mean_birds_visit),y=mean_birds_visit),size=3)
final_abun<-abun_by_plot+geom_point(data=bird.plot,aes(x=reorder(PLOT,mean_birds_visit),y=mean_birds_visit),size=3)
final_abun
View(bird.plot)
final_abun<-abun_by_plot+geom_point(data=bird.plot,aes(x=reorder(PLOT,mean_plot_abun),y=mean_plot_abun),size=3)
final_abun
final_abun<-abun_by_plot+geom_point(data=bird.plot,aes(x=reorder(PLOT,mean_plot_abun),y=mean_plot_abun),size=3)+
geom_errorbar(ymin=mean_plot_abun-se_plot_abun,ymax=mean_plot_abun+se_plot_abun)
final_abun
final_abun<-abun_by_plot+geom_point(data=bird.plot,aes(x=reorder(PLOT,mean_plot_abun),y=mean_plot_abun),size=3)+
geom_errorbar(data=bird.plot,aes(ymin=mean_plot_abun-se_plot_abun,ymax=mean_plot_abun+se_plot_abun))
final_abun
install.packages("rich")
library(rich)
test<-rich(matrix=bird.sp,nrandom=55,verbose=T)
test$cr #cumulative richness
test$mr ##mean richness over n samples
test
??rich
test<-rich(matrix=bird.sp,verbose=F)
test
??rarc
rarc.all<-rarc(matrix=bird.sp,nrandom=99)
View(rarc.all)
rare.all<-ggplot(rarc.all,aes(x=samples,y=richness))+geom_point(size=2)+theme_minimal()
rare.all
rare.all.ind<--ggplot(rarc.all,aes(x=individuals,y=richness))+geom_point(size=2)+theme_minimal()
rare.all.ind<-ggplot(rarc.all,aes(x=individuals,y=richness))+geom_point(size=2)+theme_minimal()
rare.all.ind
rare.all #richness by effort
rare.all.ind
rarc.poly<-rarc(bird.poly.mat,nrandom=99)
rarc.mono<-rarc(bird.mono.mat,nrandom=99)
div.rarc<-ggplot()+
geom_point(data=rarc.poly,aes(x=samples,y=richness),size=3)+
geom_point(data=rarc.mono,aes(x=samples,y=richness),size=3)+
theme_minimal()
div.rarc
div.rarc<-ggplot()+
geom_point(data=rarc.poly,aes(x=samples,y=richness),size=3,shape=1)+
geom_point(data=rarc.mono,aes(x=samples,y=richness),size=3,shape=2)+
theme_minimal()
div.rarc
div.rarc<-ggplot()+
geom_point(data=rarc.poly,aes(x=samples,y=richness),size=3,shape=1,color="firebrick2")+
geom_point(data=rarc.mono,aes(x=samples,y=richness),size=3,shape=2,color="darkslateblue")+
theme_minimal()
div.rarc
div.rarc.ind<-ggplot()+#by individuals
geom_point(data=rarc.poly,aes(x=individuals,y=richness),size=3,shape=1,color="firebrick2")+
geom_point(data=rarc.mono,aes(x=individuals,y=richness),size=3,shape=2,color="darkslateblue")+
theme_minimal()
div.rarc.ind
polyfy<-raref(matrix=bird.poly.mat,dens=sum(bird.mono.matrix),nrandom=300)
polyfy<-raref(matrix=bird.poly.mat,dens=sum(bird.mono.mat),nrandom=300)
monofy<-raref(matrix=bird.mono.mat,dens=sum(bird.mono.mat),nrandom=300)
polyfy$Sinterp[2] #interpolating
monofy$Sinterp[2]
polyfy2<-raref2(matrix=bird.poly.mat,dens=sum(bird.mono.mat),nrandom=300)
polyfy2<-raref2(matrix=bird.poly.mat,dens=sum(bird.mono.mat),tolerance=0.01,nrandom=300)
monofy2<-raref2(matrix=bird.mono.mat,dens=sum(bird.mono.mat),tolerance=0.01,nrandom=300)
polyfy2$mean.boot
polyfy2$sd.boot
monofy2<-raref2(matrix=bird.mono.mat,dens=sum(bird.mono.mat),tolerance=0.01,nrandom=300)
monofy2<-raref2(matrix=bird.mono.mat,dens=sum(bird.mono.mat)-1,tolerance=0.01,nrandom=300)
monofy2$mean.boot
monofy2$sd.boot
c2cv(com1=bird.poly.mat,com2=bird.mono.mat,nrandom=999,verbose=F)
c2rcv(com1=bird.poly.mat,com2=bird.mono.mat,nrandom=999,tolerance=0.01)
rich::c2rcv(com1=bird.poly.mat,com2=bird.mono.mat,nrandom=999,tolerance=0.01)
??c2rcv
c2m(pop1=bird.poly.mat,pop2=bird.mono.mat,nrandom=999,tolerance=0.01)
c2m(pop1=bird.poly.mat,pop2=bird.mono.mat,nrandom=999)
monofy2<-raref2(matrix=bird.mono.mat,dens=100,tolerance=0.01,nrandom=300)
monofy2$mean.boot
monofy2<-raref2(matrix=bird.mono.mat,dens=300,tolerance=0.01,nrandom=300)
monofy2<-raref2(matrix=bird.mono.mat,dens=200,tolerance=0.01,nrandom=300)
monofy2<-raref2(matrix=bird.mono.mat,dens=110,tolerance=0.01,nrandom=300)
monofy2<-raref2(matrix=bird.mono.mat,dens=105,tolerance=0.01,nrandom=300)
monofy2$mean.boot
mo<-rich(bird.mono.mat,nrandom=50,verbose=T)
po<-rich(bird.poly.mat,nrandom=50,verbose=T)
c2m(pop1=mo$sumrow,pop2=y$sumrow,nrandom=999,verbose=F)
c2m(pop1=mo$sumrow,pop2=po$sumrow,nrandom=999,verbose=F)
shared(c(bird.mono.mat,bird.poly.mat))
allplot<-c(bird.mono.mat,bird.poly.mat)
shared(allplot)
??shared
allplot<-as.list(bird.mono.mat,bird.poly.mat)
shared(allplot)
allplot<-list(bird.mono.mat,bird.poly.mat)
shared(allplot)
install.packages("BiodiversityR")
library(BiodiversityR)
qq.plot(birds$div)
shapiro.test(birds$div)
ks.test(birds$div)
ks.test(birds$div,pnorm)
res<-residuals(divbydiv)
birdres<-merge(birds,residuals(divbydiv))
View(birdres)
hist.div.res<-ggplot(birdres,aes(x=y,fill=DIVERSITY,color=DIVERSITY),alpha=.6)+geom_density(alpha=.7)+
theme_minimal()+labs(y="Density",x="Residuals(Bird Div)")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+
theme(legend.position="none")
hist.div.res
hist.div.res<-ggplot(birdres,aes(x=y,fill=DIVERSITY,color=DIVERSITY),alpha=.6)+geom_density(alpha=.5)+
theme_minimal()+labs(y="Density",x="Residuals(Bird Div)")+
scale_fill_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+scale_color_manual("Plot Diversity",labels=c("Monoculture","Polyculture"),values=c("darkslateblue","firebrick2"))+
theme(legend.position="none")
hist.div.res
polyfy2
??geom_errorbar
